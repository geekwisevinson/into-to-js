<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Ajax Type Ahead</title>
</head>
<body>


<script>
    const endpoint = `https://jsonplaceholder.typicode.com/users`;
    // const endpoint = 'https://google.com';
    const table = document.createElement('table');
    document.body.appendChild(table);
    const tr = document.createElement('tr');
    table.appendChild(tr);
    const thName = document.createElement('th');
    thName.innerText = 'Name';
    tr.appendChild(thName);
    const thEmail = document.createElement('th');
    thEmail.innerText = 'Email';
    tr.appendChild(thEmail);

    var XHR = new XMLHttpRequest();
    XHR.onreadystatechange = function() {
        console.log(this)
        if (this.readyState === 4 && this.status === 200) {
            console.log('******');
            console.log(JSON.parse(this.responseText));
            console.log('******');
        }
    };
    XHR.open("GET", endpoint, true);
    XHR.setRequestHeader("Access-Control-Allow-Origin", "*");
    XHR.send();

    // fetch(endpoint)
    //     .then(function(response) {
    //         return response.json();
    //     })
    //     .then(function(myJson) {
    //         console.log(myJson);
    //         const users = [...myJson].filter( item => item.name.includes('i'));
    //         users.forEach( user => {
    //             const userTr = document.createElement('tr');
    //             table.appendChild(userTr);
    //             const userNameTd = document.createElement('td');
    //             userTr.appendChild(userNameTd);
    //             userNameTd.innerText = user.name;
    //             const userEmailTd = document.createElement('td');
    //             userEmailTd.innerText = user.email;
    //             userTr.appendChild(userEmailTd);
    //         })
    //     });
</script>

</body>
</html>